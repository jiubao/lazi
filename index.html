<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>lazi test page</title>
    <style>
    img {
      width: 100%;
      min-height: 200px;
    }
    </style>
  </head>
  <body>
    <h1>lazi test page</h1>

<img data-lazi-src="http://img1.ffan.com/orig/T1tsVvBQZs1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1CYJvB5VX1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1qsbvBQds1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1ZYJvBbKb1RCvBVdK?wx_fmt=jpeg" />
<!---->
<img data-lazi-src="http://img1.ffan.com/orig/T10YdvB5h_1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1VYDvBv_v1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1GWJvBvhX1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1kbJvBmEX1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1CbdvBjC_1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1sWJvBs_b1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1gYJvB4EX1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1LYZvBmZg1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1MWhvBjYs1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1yYYvBKZT1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1qxYvBTJT1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1zYEvBsAX1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1ibdvB7d_1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1UxEvB4AX1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T14YZvB4Dj1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1mYDvBvhv1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1SbdvB7hg1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1wbZvBXVQ1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1D3bvBQxs1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1AxDvBjYv1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1SxEvBmKX1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1YxhvByZX1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1OWZvB5_g1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1KWdvBKY_1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1wWxvBvZb1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T11WDvB4E_1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1rYJvBTdX1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1HxYvBKZT1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1NWDvB4x_1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1ixZvB4Kg1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1u3VvB_Vs1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1iYYvBKVT1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1DYxvBbhb1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1kWJvBmAX1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1rbhvB5_b1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1qxEvB7Vs1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1vWJvB5bb1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1EWhvByWs1RCvBVdK?wx_fmt=jpeg" />
<img data-lazi-src="http://img1.ffan.com/orig/T1PWJvB5KX1RCvBVdK?wx_fmt=jpeg" />

<img data-b1-src="http://img1.imgtn.bdimg.com/it/u=1485834719,2425074308&fm=27&gp=0.jpg" />
<img data-b1-src="http://img5.imgtn.bdimg.com/it/u=1894464170,2955189889&fm=27&gp=0.jpg" />
<img data-b1-src="http://img2.imgtn.bdimg.com/it/u=2238220304,765636600&fm=27&gp=0.jpg" />
<img data-b1-src="http://img2.imgtn.bdimg.com/it/u=1090246040,1114340808&fm=27&gp=0.jpg" />
<img data-b1-src="http://img2.imgtn.bdimg.com/it/u=704587749,941440337&fm=27&gp=0.jpg" />
<img data-b1-src="http://img5.imgtn.bdimg.com/it/u=1704813664,884155489&fm=27&gp=0.jpg" />
<img data-b1-src="http://img0.imgtn.bdimg.com/it/u=3461919426,2481953320&fm=27&gp=0.jpg" />
<img data-b1-src="http://img1.imgtn.bdimg.com/it/u=989341999,236255160&fm=27&gp=0.jpg" />
<img data-b1-src="http://img3.imgtn.bdimg.com/it/u=1919148010,2425935279&fm=27&gp=0.jpg" />
<img data-b1-src="http://img2.imgtn.bdimg.com/it/u=1682686082,380056728&fm=27&gp=0.jpg" />
<img data-b1-src="http://img5.imgtn.bdimg.com/it/u=3239484044,3701385433&fm=27&gp=0.jpg" />
<img data-b1-src="http://img0.imgtn.bdimg.com/it/u=524329843,3308417969&fm=27&gp=0.jpg" />
<img data-b1-src="http://img4.imgtn.bdimg.com/it/u=2989675306,1278823038&fm=27&gp=0.jpg" />
<img data-b1-src="http://img2.imgtn.bdimg.com/it/u=1614751613,3991402519&fm=27&gp=0.jpg" />
<img data-b1-src="http://img3.imgtn.bdimg.com/it/u=1069121856,2623170009&fm=27&gp=0.jpg" />
<img data-b1-src="http://img2.imgtn.bdimg.com/it/u=1010804810,782812968&fm=27&gp=0.jpg" />
<img data-b1-src="http://img1.imgtn.bdimg.com/it/u=2415293898,2774410121&fm=27&gp=0.jpg" />
<img data-b1-src="http://img2.imgtn.bdimg.com/it/u=2283478529,327502425&fm=27&gp=0.jpg" />

<img data-b1-src="http://img1.imgtn.bdimg.com/it/u=2365282747,3105404302&fm=27&gp=0.jpg" /> <img data-b1-src="http://img3.imgtn.bdimg.com/it/u=77186311,257125688&fm=27&gp=0.jpg" /> <img data-b1-src="http://img4.imgtn.bdimg.com/it/u=263985165,4097393051&fm=27&gp=0.jpg" /> <img data-b1-src="http://img4.imgtn.bdimg.com/it/u=4087034022,2012623946&fm=27&gp=0.jpg" /> <img data-b1-src="http://img2.imgtn.bdimg.com/it/u=1921255852,2582131706&fm=27&gp=0.jpg" /> <img data-b1-src="http://img5.imgtn.bdimg.com/it/u=1458869104,1762549435&fm=27&gp=0.jpg" /> <img data-b1-src="http://img2.imgtn.bdimg.com/it/u=3770102282,1750837690&fm=27&gp=0.jpg" /> <img data-b1-src="http://img3.imgtn.bdimg.com/it/u=1417849734,4110330925&fm=27&gp=0.jpg" /> <img data-b1-src="http://img3.imgtn.bdimg.com/it/u=3906161185,333176228&fm=27&gp=0.jpg" /> <img data-b1-src="http://img1.imgtn.bdimg.com/it/u=24482581,1744394028&fm=27&gp=0.jpg" /> <img data-b1-src="http://img2.imgtn.bdimg.com/it/u=1172315067,3093542195&fm=27&gp=0.jpg" /> <img data-b1-src="http://img3.imgtn.bdimg.com/it/u=38645209,3120513332&fm=27&gp=0.jpg" /> <img data-b1-src="http://img2.imgtn.bdimg.com/it/u=3773155417,501162367&fm=27&gp=0.jpg" /> <img data-b1-src="http://img1.imgtn.bdimg.com/it/u=1496338297,706210272&fm=27&gp=0.jpg" /> <img data-b1-src="http://img1.imgtn.bdimg.com/it/u=2971328975,1250691008&fm=27&gp=0.jpg" /> <img data-b1-src="http://img2.imgtn.bdimg.com/it/u=2241933856,2741115560&fm=27&gp=0.jpg" />
<!---->

    <script src="dist/lazi.umd.js"></script>
    <script type="text/javascript">
var imgs = ["https://timg.ffan.com/convert/resize/width_562/quaâ€¦rl_T1YbbvB7xT1RCvBVdK/tfs/T1YbbvB7xT1RCvBVdK.webp", "http://img1.ffan.com/orig/T1EqAvBgLs1RCvBVdK?wx_fmt=png", "http://img1.ffan.com/orig/T1_YDvBv_v1RCvBVdK?wx_fmt=png", "http://img1.ffan.com/orig/T1tsVvBQZs1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1CYJvB5VX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1qsbvBQds1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1ZYJvBbKb1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T10YdvB5h_1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1VYDvBv_v1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1GWJvBvhX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1kbJvBmEX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1CbdvBjC_1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1sWJvBs_b1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1gYJvB4EX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1LYZvBmZg1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1MWhvBjYs1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1yYYvBKZT1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1qxYvBTJT1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1zYEvBsAX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1ibdvB7d_1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1UxEvB4AX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T14YZvB4Dj1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1mYDvBvhv1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1SbdvB7hg1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1wbZvBXVQ1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1D3bvBQxs1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1AxDvBjYv1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1SxEvBmKX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1YxhvByZX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1OWZvB5_g1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1KWdvBKY_1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1wWxvBvZb1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T11WDvB4E_1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1rYJvBTdX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1HxYvBKZT1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1NWDvB4x_1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1ixZvB4Kg1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1u3VvB_Vs1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1iYYvBKVT1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1DYxvBbhb1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1kWJvBmAX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1rbhvB5_b1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1qxEvB7Vs1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1vWJvB5bb1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1EWhvByWs1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T1PWJvB5KX1RCvBVdK?wx_fmt=jpeg", "http://img1.ffan.com/orig/T10bDvBsWv1RCvBVdK?wx_fmt=jpeg", "http://10.156.18.67:8080/static/img/gone.8b448bb.png", "http://timg.ffan.com/convert/resize/url_T1UNbgB_Zv1RCvBVdK/tfs/34c8d5912fed2e0f735f58b5cb4ea8ed.png"]

var i = 0
window.laziInstance = lazi({threshold: 1, strategy: 1, pipe: {'pre.data-lazi-src': s => {console.log(i++); return s}}})
// window.laziInstance = lazi({threshold: 1, strategy: 1})
window.laziInstance
  .add('data-b1-src', null, (s) => {console.log(i++); return s})
  .pipe('pre.data-b1-src', function (src, elm) {
    console.log(arguments)
    return src
  })
  // .pipe('pre.data-lazi-src', s => {console.log('x', i++); return s})

  var f1 = () => {console.log('f1')}
  var f2 = () => {console.log('f2')}
  var f3 = () => {console.log('f3')}
  var f4 = () => {console.log('f4')}
  var f5 = () => {console.log('f5')}

  // var o1 = {a: 1, b:2}
  var o1 = window.laziInstance

  o1.on('pre', f1)
  o1.on('pre', f2)
  o1.on('pre', f3)
  o1.on('pre', f4)

  o1.on('pre', 'data-a1', f1)
  o1.on('pre', 'data-a1', f2)
  o1.on('pre', 'data-a1', f3)

  // o1.emit('pre')
  // o1.emit('pre.data-a1')
  // o1.pipe('pre.data-b1-src')

    </script>
  </body>
</html>
